<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>marda_extractors_api package &mdash; marda_extractors_api main documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/custom_theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=a8da1a53"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="MaRDA Metadata Extractors API" href="../index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            marda_extractors_api
          </a>
              <div class="version">
                main
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Autogenerated Docs</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">marda_extractors_api package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-marda_extractors_api">Module contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#marda_extractors_api.extract"><code class="docutils literal notranslate"><span class="pre">extract()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#marda_extractors_api.MardaExtractor"><code class="docutils literal notranslate"><span class="pre">MardaExtractor</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#marda_extractors_api.MardaExtractor.entry"><code class="docutils literal notranslate"><span class="pre">MardaExtractor.entry</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#marda_extractors_api.MardaExtractor.install"><code class="docutils literal notranslate"><span class="pre">MardaExtractor.install()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#marda_extractors_api.MardaExtractor.execute"><code class="docutils literal notranslate"><span class="pre">MardaExtractor.execute()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#marda_extractors_api.MardaExtractor.apply_template_args"><code class="docutils literal notranslate"><span class="pre">MardaExtractor.apply_template_args()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#marda_extractors_api.MardaExtractor.parse_usage"><code class="docutils literal notranslate"><span class="pre">MardaExtractor.parse_usage()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">marda_extractors_api</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">marda_extractors_api package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/apidoc/marda_extractors_api.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="marda-extractors-api-package">
<h1>marda_extractors_api package<a class="headerlink" href="#marda-extractors-api-package" title="Link to this heading"></a></h1>
<section id="module-marda_extractors_api">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-marda_extractors_api" title="Link to this heading"></a></h2>
<p>This script is intended as an example usage and proof-of-concept implementation of the
API endpoints exposed on the <a class="reference external" href="https://marda-registry.fly.dev/">Extractors Registry</a>.
Currently, it can be used to:</p>
<ul class="simple">
<li><p>query the <a class="reference external" href="https://marda-registry.fly.dev/">Extractors Registry</a> for extractors that
support a given file type,</p></li>
<li><p>install those extractors in a fresh Python virtual environment environment via <cite>pip</cite>,</p></li>
<li><p>invoke the extractor either in Python or at the CLI, producing Python objects or files on disk.</p></li>
</ul>
<dl class="py function">
<dt class="sig sig-object py" id="marda_extractors_api.extract">
<span class="sig-prename descclassname"><span class="pre">marda_extractors_api.</span></span><span class="sig-name descname"><span class="pre">extract</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preferred_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">SupportedExecutionMethod.PYTHON</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">install</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_venv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extractor_definition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">registry_base_url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'https://marda-registry.fly.dev/api/v0.3.0'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#marda_extractors_api.extract" title="Link to this definition"></a></dt>
<dd><p>Parse a file given its path and file type ID
in the MaRDA registry.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_path</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code> | <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – The path or URL of the file to parse.</p></li>
<li><p><strong>input_type</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – The ID of the file type in the MaRDA registry.</p></li>
<li><p><strong>output_path</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</span>) – The path to write the output to.
If not provided, the output will be requested to be written
to a file with the same name as the input file, but with a .json extension.</p></li>
<li><p><strong>output_type</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</span>) – A string specifying the desired output type.</p></li>
<li><p><strong>preferred_mode</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">SupportedExecutionMethod</span></code> | <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – The preferred execution method.
If the extractor supports both Python and CLI, this will be used to determine
which to use. If the extractor only supports one method, this will be ignored.
Accepts the <cite>SupportedExecutionMethod</cite> values of “cli” or “python”.</p></li>
<li><p><strong>install</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Whether to install the extractor package before running it. Defaults to True.</p></li>
<li><p><strong>extractor_definition</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>]</span>) – A dictionary containing the extractor definition to use instead
of a registry lookup.</p></li>
<li><p><strong>registry_base_url</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – The base URL of the MaRDA registry to use.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The output of the extractor, either a Python object or nothing.</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="marda_extractors_api.MardaExtractor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">marda_extractors_api.</span></span><span class="sig-name descname"><span class="pre">MardaExtractor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">install</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preferred_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">SupportedExecutionMethod.PYTHON</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_venv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#marda_extractors_api.MardaExtractor" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A plan for parsing a file.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="marda_extractors_api.MardaExtractor.entry">
<span class="sig-name descname"><span class="pre">entry</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></em><a class="headerlink" href="#marda_extractors_api.MardaExtractor.entry" title="Link to this definition"></a></dt>
<dd><p>The registry entry to use for parsing.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="marda_extractors_api.MardaExtractor.install">
<span class="sig-name descname"><span class="pre">install</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#marda_extractors_api.MardaExtractor.install" title="Link to this definition"></a></dt>
<dd><p>Follows the installation instructions for the entry.</p>
<p>Currently supports the following <a class="reference external" href="https://marda-alliance.github.io/metadata_extractors_schema/main/mme_schema/InstallerTypes.html" title="(in MaRDA Metadata Extractors vmain)"><span>Enum: InstallerTypes</span></a></p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;pip&quot;</span></code></p></li>
</ul>
</div></blockquote>
<p>The installation proceeds inside the appropriate venv, if configured.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="marda_extractors_api.MardaExtractor.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#marda_extractors_api.MardaExtractor.execute" title="Link to this definition"></a></dt>
<dd><p>Follows the required usage instructions for the entry.</p>
<p>Currently supports the following <a class="reference external" href="https://marda-alliance.github.io/metadata_extractors_schema/main/mme_schema/UsageTypes.html" title="(in MaRDA Metadata Extractors vmain)"><span>Enum: UsageTypes</span></a>:</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>“cli”</cite></p></li>
<li><p><cite>“python”</cite></p></li>
</ul>
</div></blockquote>
<p>The execution proceeds in the appropriate venv, if configured.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="marda_extractors_api.MardaExtractor.apply_template_args">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">apply_template_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">command</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_template</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#marda_extractors_api.MardaExtractor.apply_template_args" title="Link to this definition"></a></dt>
<dd><p>Reference implementation of templating in MaRDA Metadata Extractor Schemas.</p>
<p>See the <a class="reference external" href="https://marda-alliance.github.io/metadata_extractors_schema/main/mme_schema/UsageTemplate.html" title="(in MaRDA Metadata Extractors vmain)"><span>Class: UsageTemplate</span></a> for details of the individual arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>command</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – The command to apply the template to.</p></li>
<li><p><strong>method</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">SupportedExecutionMethod</span></code></span>) – The execution method to use.</p></li>
<li><p><strong>input_type</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – The input type to use.</p></li>
<li><p><strong>input_path</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code></span>) – The input path to use.</p></li>
<li><p><strong>output_type</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</span>) – The output type to use.</p></li>
<li><p><strong>output_path</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code>]</span>) – The output path to use.</p></li>
<li><p><strong>additional_template</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>]</span>) – Additional template arguments to use, which
overwrite the default arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The templated command.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="marda_extractors_api.MardaExtractor.parse_usage">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parse_usage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">usage</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preferred_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">SupportedExecutionMethod.PYTHON</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#marda_extractors_api.MardaExtractor.parse_usage" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">SupportedExecutionMethod</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</span></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../index.html" class="btn btn-neutral float-left" title="MaRDA Metadata Extractors API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022 - 2023, MaRDA Metadata Extractors Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>